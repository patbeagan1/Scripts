readonly me=${0##*/}                                                    # slightly prettier than $0
partial=0
while getopts ':iph' opt
do
    case $opt in
        p)  partial=1                                                   # partial matches are the default for locate
            ;;
        i)  ignore_case='-i'
            ;;
        h)  echo "usage: $me -h | [-ip] dirname" >&2
            echo "    -i : ignore case when matching dirname" >&2
            echo "    -p : partial match on dirname" >&2
            echo "    -h : this help message" >&2
            echo "    colnum : column of numbers to add (non-numeric values in this col treated as 0)" >&2
            exit
            ;;
        :)  echo "$me: $OPTARG requires an argument ($me -h for help)" >&2
            exit 2
            ;;
        \?) echo "$me: unknown argument $OPTARG ($me -h for help)" >&2
            exit 2
            ;;
    esac
done
shift $(( $OPTIND - 1 ))

